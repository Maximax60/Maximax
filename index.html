<!-- Maximax FM ‚Äì Auto-rotating Spotify Playlists (Apricot + Black) with i18n -->
<section id="maximax-fm"
  style="background:#000;color:#F59E0B;padding:40px 20px;text-align:center;border-radius:20px;max-width:900px;margin:60px auto;box-shadow:0 0 15px rgba(245,158,11,.4);">
  <h2 style="font-size:2em;font-weight:800;margin-bottom:10px;text-transform:uppercase;">
    üé∂ <span data-i18n-mmxfm="title">Maximax FM</span>
  </h2>
  <p style="font-size:1.05em;margin:0 0 20px;letter-spacing:.4px;">
    <strong data-i18n-mmxfm="slogan">MAXIMAX ALWAYS MAXIMIZE</strong><br>
    <span data-i18n-mmxfm="subtitle">
      Official <span style="color:#F59E0B;">Spotify playlists</span> curated by <b>Strat√®j Vizyon√®</b>.
    </span>
  </p>

  <!-- Player -->
  <div style="display:grid;place-items:center;">
    <iframe id="mmxFmPlayer" title="Maximax FM Spotify"
      style="border-radius:12px;width:100%;max-width:800px;height:380px;border:none;"
      src="https://open.spotify.com/embed/playlist/308YNfQZkdCp43orc8W12G?utm_source=generator"
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
  </div>

  <!-- Dots / controls (click to switch) -->
  <div id="mmxFmDots" style="margin-top:14px;display:flex;gap:8px;justify-content:center;flex-wrap:wrap;"></div>

  <p style="margin-top:16px;font-size:.85em;opacity:.75;">
    <span data-i18n-mmxfm="powered">Powered by Spotify</span> | ¬© <span id="mmxYear"></span> Maximax Multi Services
  </p>
</section>

<script>
  // ‚úÖ Your playlists (add/remove IDs as you like)
  const MMX_PLAYLISTS = [
    "308YNfQZkdCp43orc8W12G",
    "23GbLlMeyqkPXalamTHj3H",
    "3YjfopTrtqQEcAKNghhp8p",
    "04onHpehSzxHB87Eq8b63m"
  ];
  const MMX_ROTATE_MS = 30000; // 30s

  // üî§ Local i18n for this section, synced with your site‚Äôs data-lang buttons
  const MMX_I18N = {
    en: {
      title: "Maximax FM",
      slogan: "MAXIMAX ALWAYS MAXIMIZE",
      subtitle: "Official <span style='color:#F59E0B;'>Spotify playlists</span> curated by <b>Strat√®j Vizyon√®</b>.",
      powered: "Powered by Spotify"
    },
    ht: {
      title: "Maximax FM",
      slogan: "MAXIMAX ALWAYS MAXIMIZE",
      subtitle: "Playlis <span style='color:#F59E0B;'>Spotify</span> ofisy√®l yo, prepare pa <b>Strat√®j Vizyon√®</b>.",
      powered: "Pwograme pa Spotify"
    },
    es: {
      title: "Maximax FM",
      slogan: "MAXIMAX ALWAYS MAXIMIZE",
      subtitle: "Listas de reproducci√≥n <span style='color:#F59E0B;'>de Spotify</span> curadas por <b>Strat√®j Vizyon√®</b>.",
      powered: "Desarrollado por Spotify"
    }
  };

  (function initMaximaxFM(){
    const frame = document.getElementById("mmxFmPlayer");
    const dotsWrap = document.getElementById("mmxFmDots");
    const yearEl = document.getElementById("mmxYear");
    if (yearEl) yearEl.textContent = new Date().getFullYear();

    // --- Rotation ---
    let i = 0, timer = null;
    function setPlaylist(idx){
      i = idx % MMX_PLAYLISTS.length;
      const id = MMX_PLAYLISTS[i];
      frame.src = `https://open.spotify.com/embed/playlist/${id}?utm_source=generator`;
      [...dotsWrap.children].forEach((b, n) => {
        b.style.background = n === i ? "#F59E0B" : "transparent";
        b.style.color = n === i ? "#000" : "#F59E0B";
        b.style.borderColor = "#F59E0B";
      });
    }
    function startRotation(){ stopRotation(); timer = setInterval(() => setPlaylist(i + 1), Math.max(5000, MMX_ROTATE_MS)); }
    function stopRotation(){ if (timer) clearInterval(timer); }

    // Build dots
    MMX_PLAYLISTS.forEach((id, idx) => {
      const b = document.createElement("button");
      b.type = "button";
      b.textContent = String(idx + 1);
      b.setAttribute("aria-label", "Switch playlist " + (idx + 1));
      b.style.cssText = "border:2px solid #F59E0B;border-radius:999px;padding:6px 10px;background:transparent;color:#F59E0B;cursor:pointer;font-weight:700;";
      b.onclick = () => { setPlaylist(idx); startRotation(); };
      dotsWrap.appendChild(b);
    });

    frame.addEventListener("mouseenter", stopRotation);
    frame.addEventListener("mouseleave", startRotation);

    setPlaylist(0);
    startRotation();

    // --- i18n sync with your [data-lang] buttons (ENGLISH | CREOLE | SPANISH) ---
    function applyLang(lang){
      const t = MMX_I18N[lang] || MMX_I18N.en;
      document.querySelectorAll("[data-i18n-mmxfm]").forEach(el => {
        const key = el.getAttribute("data-i18n-mmxfm");
        if (!t[key]) return;
        // some fields contain HTML (subtitle), so handle safely:
        if (/(subtitle)/.test(key)) { el.innerHTML = t[key]; } else { el.textContent = t[key]; }
      });
    }
    // Pick up your site‚Äôs saved language if present
    const saved = localStorage.getItem("maximax_lang") || "ht";
    applyLang(saved);

    // Listen for clicks on your existing language buttons
    document.querySelectorAll("[data-lang]").forEach(btn => {
      btn.addEventListener("click", () => {
        const lang = btn.getAttribute("data-lang");
        localStorage.setItem("maximax_lang", lang);
        applyLang(lang);
      });
    });
  })();
</script>
" width="100%" height="600" frameborder="0" marginheight="0" marginwidth="0">Loading‚Ä¶</iframe>
  </section>

  <section>
    <h2>Contact Us</h2>
    <!-- Replace phone number with your WhatsApp/Twilio number -->
    <a class="btn" href="https://wa.me/13175381150" target="_blank">Chat on WhatsApp</a>
  </section>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MAXIMAX Multi Services</title>
  <meta name="description" content="Immigration ‚Ä¢ Tax ‚Ä¢ Forms ‚Ä¢ Upload ‚Ä¢ Appointments." />
  <link rel="icon" href="/favicon.svg" />
  <script src="/assets/i18n.js"></script>
  <script src="/assets/memo.js"></script>
  <script src="/assets/forms.js"></script>
  <style>
    body{font-family:system-ui,Arial,sans-serif;margin:0;padding:2rem}
    .bar{display:flex;gap:1rem;align-items:center;justify-content:space-between}
    .lang a{margin-left:.5rem;text-decoration:none}
  </style>
</head>
<body>
  <div class="bar">
    <div><strong>MAXIMAX</strong> ‚Äî <span data-i18n="slogan">MAXIMAX ALWAYS MAXIMIZE</span></div>
    <div class="lang">Language:
      <a href="#" data-lang="en">ENGLISH</a> |
      <a href="#" data-lang="ht">CREOLE</a> |
      <a href="#" data-lang="es">SPANISH</a>
    </div>
  </div>

  <h1 data-i18n="hero_title">MAXIMAX Multi Services</h1>
  <p><a href="/alerte.html" data-i18n="nav_alerts">Alerte</a> ‚Ä¢ <a href="/memo.html" data-i18n="nav_memo">Memo</a> ‚Ä¢
     <a href="/upload.html" data-i18n="nav_upload">Upload</a> ‚Ä¢
     <a href="/appointments.html" data-i18n="nav_appointments">Appointments</a></p>

  <!-- Version check -->
  <p>Version: <code id="ver">loading‚Ä¶</code></p>
  <script>
    fetch('/assets/version.json').then(r=>r.json()).then(j=>{document.getElementById('ver').textContent=j.version||'n/a'}).catch(()=>{});
  </script>
</body>
</html>
