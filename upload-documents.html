
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MAXIMAX â€“ Secure Upload (Admin Only)</title>

  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    html, body { height:100%; background:#000; }

    body{
      font-family: Arial, sans-serif;
      color:#fff;
      background: linear-gradient(to bottom,#000000 0%,#0f0a04 30%,#d96e17 75%,#f28c28 100%);
      background-attachment: fixed;
      background-size: cover;
    }
    @media (max-width:768px){
      body{ background: linear-gradient(to bottom,#000,#1a1106,#df771e,#f28c28); }
    }

    header{
      width:100%;
      background: linear-gradient(to right, #000000, #1a0d03, #b85c12, #f28c28);
      border-bottom:2px solid #f28c28;
      padding:14px 20px;
      display:flex;
      align-items:center;
      justify-content:space-between;
    }

    .brand{ display:flex; align-items:center; gap:10px; }
    .brand-logo{
      width:48px; height:48px; border-radius:50%;
      border:2px solid #f28c28; overflow:hidden; background:#000;
      display:flex; align-items:center; justify-content:center;
    }
    .brand-logo img{ width:100%; height:100%; object-fit:cover; display:block; }
    .brand-text h1{ font-size:20px; letter-spacing:1px; }
    .brand-text span{ font-size:12px; color:#ffd9a4; text-transform:uppercase; }

    nav{ display:flex; align-items:center; gap:18px; flex-wrap:wrap; justify-content:flex-end; }
    nav a{ text-decoration:none; color:#ffe9c7; font-size:13px; text-transform:uppercase; letter-spacing:.05em; }
    nav a:hover{ color:#fff; }

    .page-wrapper{ max-width:900px; margin:0 auto; padding:18px 16px 30px; }

    .card{
      margin-top:18px;
      padding:18px;
      border-radius:16px;
      background: rgba(0,0,0,.75);
      border:1px solid rgba(242,140,40,.35);
    }
    .warning{ border-color:#ff9f43; }
    .title{
      font-size:16px;
      font-weight:bold;
      color:#ffd8a4;
      margin-bottom:8px;
      text-transform:uppercase;
      letter-spacing:.08em;
    }
    p{ font-size:13px; color:#ffe7cb; line-height:1.6; }

    .row{ margin-top:12px; display:flex; flex-wrap:wrap; gap:10px; align-items:center; }
    input[type="password"], input[type="text"]{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid #f28c28;
      background:#000;
      color:#ffe9c7;
      font-size:13px;
      min-width:220px;
      outline:none;
    }
    input[type="file"]{ margin-top:8px; color:#ffe7cb; font-size:13px; }

    button{
      background:#f28c28;
      border:none;
      border-radius:999px;
      padding:9px 16px;
      font-size:13px;
      cursor:pointer;
      color:#000;
      font-weight:bold;
      text-transform:uppercase;
      letter-spacing:.06em;
    }
    button:hover{ background:#ffb259; }

    .msg{ margin-top:10px; font-size:12px; display:none; }
    .msg.error{ color:#ffb3b3; }
    .msg.ok{ color:#b6ffbf; }

    .upload-area{ display:none; }
    .mini{
      margin-top:8px;
      font-size:11px;
      color:#f7d2a0;
      line-height:1.5;
    }

    .pill{
      display:inline-block;
      padding:4px 10px;
      border-radius:999px;
      border:1px solid rgba(242,140,40,.7);
      background: rgba(242,140,40,.12);
      font-size:11px;
      letter-spacing:.06em;
      text-transform:uppercase;
      color:#ffe9c7;
      margin-top:10px;
    }

    footer{
      margin-top:24px;
      padding:12px 0 20px;
      font-size:11px;
      text-align:center;
      color:#ffd9a4;
    }
  </style>
</head>

<body>
  <header>
    <div class="brand">
      <div class="brand-logo">
        <img src="assets/img/MAXIMAX MULTI SERVICES II.png" alt="MAXIMAX Logo" />
      </div>
      <div class="brand-text">
        <h1>MAXIMAX MULTI SERVICES</h1>
        <span>MAXIMAX ALWAYS MAXIMIZED</span>
      </div>
    </div>

    <nav>
      <a href="index.html">Home</a>
      <a href="alerts.html">Alerts</a>
      <a href="downloadable-forms-pdf.html">Forms</a>
      <a href="upload-documents.html">Upload</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>

  <div class="page-wrapper">

    <!-- NIVO 2: ADMIN GATE -->
    <div class="card warning" id="adminGate">
      <div class="title">Admin Only Â· Secure Area</div>
      <p>
        ðŸ‡­ðŸ‡¹ ZÃ²n sa a se pou ADMIN sÃ¨lman. Antre kÃ²d la pou kontinye.<br/>
        ðŸ‡ºðŸ‡¸ Admin-only upload center. Enter code to continue.<br/>
        ðŸ‡ªðŸ‡¸ Centro de carga solo para administradores. Ingrese el cÃ³digo.
      </p>

      <div class="row">
        <input type="password" id="adminCode" placeholder="Admin Access Code" autocomplete="off" />
        <button type="button" onclick="unlock()">Enter</button>
      </div>

      <div class="msg error" id="adminErr">âš  Wrong code. Contact Super Admin.</div>
      <div class="mini">Tip: Use a strong code. (You can change it inside the script.)</div>
    </div>

    <!-- NIVO 3 + 4: VALIDATION + RANDOM RENAME -->
    <div class="card upload-area" id="uploadArea">
      <div class="title">Secure Upload Center</div>
      <p>
        ðŸ‡­ðŸ‡¹ Chwazi PDF/JPG/PNG. SistÃ¨m nan ap verifye fichye a, epi li ap kreye yon
        non o aza (random) pou sekirite.<br/>
        ðŸ‡ºðŸ‡¸ Select PDF/JPG/PNG. The system validates the file and generates a random secure filename.<br/>
        ðŸ‡ªðŸ‡¸ Seleccione PDF/JPG/PNG. El sistema valida el archivo y genera un nombre aleatorio seguro.
      </p>

      <span class="pill">Allowed: PDF Â· JPG Â· PNG | Max: 10MB</span>

      <div class="row" style="margin-top:14px;">
        <input type="text" id="clientRef" placeholder="Client Reference (Optional)" autocomplete="off" />
      </div>

      <div style="margin-top:12px;">
        <input type="file" id="fileInput" />
      </div>

      <div class="row" style="margin-top:12px;">
        <button type="button" onclick="prepareSecureUpload()">Prepare Secure Upload</button>
      </div>

      <div class="msg ok" id="okMsg"></div>
      <div class="msg error" id="fileErr"></div>

      <div class="mini" id="note">
        ðŸ›ˆ Static demo: We generate the secure filename and validate locally.
        Real upload storage will be connected with Firebase/Backend next.
      </div>
    </div>

    <footer>
      Â© 2025 MAXIMAX Multi Services â€“ MAXIMAX ALWAYS MAXIMIZED.
    </footer>

  </div>

  <script>
    // =========================
    // NIVO 2: ADMIN GATE
    // =========================
    const SECRET_CODE = "MAXIMAX2025"; // CHANJE SA SI OU VLE

    function unlock(){
      const code = document.getElementById("adminCode").value;
      const err = document.getElementById("adminErr");
      const gate = document.getElementById("adminGate");
      const area = document.getElementById("uploadArea");

      if(code === SECRET_CODE){
        err.style.display = "none";
        gate.style.display = "none";
        area.style.display = "block";
      } else {
        err.style.display = "block";
      }
    }

    // =========================
    // NIVO 3: FILE VALIDATION
    // =========================
    const allowedTypes = ["application/pdf", "image/jpeg", "image/png"];
    const maxSize = 10 * 1024 * 1024; // 10MB

    function validateFile(file){
      if(!file) return { ok:false, msg:"Please select a file / Tanpri chwazi yon fichye." };

      if(!allowedTypes.includes(file.type)){
        return { ok:false, msg:"Only PDF, JPG, PNG allowed. / Se PDF, JPG, PNG sÃ¨lman." };
      }

      if(file.size > maxSize){
        return { ok:false, msg:"File too large. Max 10MB. / Fichye a twÃ² lou (Max 10MB)." };
      }

      return { ok:true };
    }

    // =========================
    // NIVO 4: RANDOM SECURE NAME
    // =========================
    function randomId(len=16){
      const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
      let out = "";
      for(let i=0;i<len;i++) out += chars[Math.floor(Math.random()*chars.length)];
      return out;
    }

    function getExtension(file){
      // safer: based on MIME
      if(file.type === "application/pdf") return "pdf";
      if(file.type === "image/jpeg") return "jpg";
      if(file.type === "image/png") return "png";
      return "bin";
    }

    function prepareSecureUpload(){
      const fileInput = document.getElementById("fileInput");
      const file = fileInput.files && fileInput.files[0] ? fileInput.files[0] : null;

      const okMsg = document.getElementById("okMsg");
      const fileErr = document.getElementById("fileErr");
      okMsg.style.display = "none";
      fileErr.style.display = "none";

      const v = validateFile(file);
      if(!v.ok){
        fileErr.textContent = "âš  " + v.msg;
        fileErr.style.display = "block";
        return;
      }

      // Create secure filename
      const ext = getExtension(file);
      const ref = (document.getElementById("clientRef").value || "").trim();

      // Example: MAXIMAX_2025-12-11_REF_JH3k... .pdf
      const today = new Date();
      const yyyy = today.getFullYear();
      const mm = String(today.getMonth()+1).padStart(2,"0");
      const dd = String(today.getDate()).padStart(2,"0");

      const safeRef = ref ? ref.replace(/[^a-zA-Z0-9_-]/g, "").slice(0, 20) : "NOREF";
      const secureName = `MAXIMAX_${yyyy}-${mm}-${dd}_${safeRef}_${randomId(18)}.${ext}`;

      // In a real backend upload, we'd send this secureName as the storage filename.
      okMsg.innerHTML =
        `âœ… File validated.<br/>
         ðŸ”’ Secure filename generated:<br/>
         <strong>${secureName}</strong><br/><br/>
         Next step: connect Firebase Storage to upload using this secure name.`;
      okMsg.style.display = "block";
    }
  </script>
</body>
</html>
